---
title: Provider Retrieval Process
description: Illustrative overview for how the providers are retrieved.
---

import ThemeImage from '../../../components/ThemeImage.astro';
import { Aside } from '@astrojs/starlight/components';

Refer to the following graph to understand how the providers are retrieved.

<ThemeImage src="/provider-scope-behavior.svg" darkSrc="/provider-scope-behavior_dark.svg" alt="Graphical representation of provider scope providers retrieval behavior"/>

Basically, when the user searches for a provider, the first thing that is checked is if a `ProviderScopeOverride` exists.

If it does, the overriden providers maps are checked to see if the provider is there.

If is there, the overriden value is returned.

Otherwise, the search continues for the first `ProviderScope` ancestor.

If a `ProviderScope` ancestor is found, the provider is searched in the providers map.

If the provider is found, the value is returned.

If the provider is not found, the search continues for the next `ProviderScope` ancestor, until the root of the widget tree is reached.

If the provider is not found, a `ProviderWithoutScopeError` is thrown.

<Aside type="tip">
  The error can be avoided by using `provider.maybeOf(context)`, which returns `null` if the provider is not found.
</Aside>

<Aside>
The lookup of a provider is __O(1)__ because it just involves a map lookup, in addition the tree is traversed using [getElementForInheritedWidgetOfExactType](https://api.flutter.dev/flutter/widgets/BuildContext/getElementForInheritedWidgetOfExactType.html) which is O(1) because it jumps from one InheritedWidget of type `T` to another, skipping the widgets in between.
</Aside>

